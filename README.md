# Windows í™˜ê²½ì—ì„œ git, npm ë“± ëª…ë ¹ì–´ ì‹¤í–‰ì„ ìœ„í•œ ì¼íšŒì„± ê¶Œí•œ ë¶€ì—¬

```
Set-ExecutionPolicy RemoteSigned -Scope Process
```

---

# Serviceì—ì„œ ì‚¬ìš©í•˜ëŠ” CRUD ë©”ì„œë“œ

| ë©”ì„œë“œ         | ì„¤ëª…                                                        |
| -------------- | ----------------------------------------------------------- |
| find()         | ì „ì²´ ëª©ë¡ ì¡°íšŒ (SELECT \* FROM user)                        |
| findOne()      | ì¡°ê±´ì— ë§ëŠ” ë‹¨ì¼ ì—”í‹°í‹° ì¡°íšŒ                                |
| findBy()       | findì˜ ì¡°ê±´ ë²„ì „ (find({ where: { name: 'hj' } })ì´ë‘ ê°™ìŒ) |
| findOneBy()    | findOneì˜ ê°„ë‹¨ ë²„ì „                                         |
| findAndCount() | ê²°ê³¼ì™€ ì „ì²´ ê°œìˆ˜ë¥¼ í•¨ê»˜ ì¡°íšŒ ([data, count])                |
| save(entity)   | ì—”í‹°í‹° ì‚½ì… ë˜ëŠ” ìˆ˜ì • (PK ìœ ë¬´ë¡œ êµ¬ë¶„)                      |
| insert()       | ì‚½ì… ì „ìš© (ì†ë„ ë¹ ë¦„, ë°˜í™˜ ê°’ ì œí•œ)                         |
| update()       | ìˆ˜ì • ì „ìš© (ì—”í‹°í‹° ì•ˆ ì“°ê³  ì¡°ê±´+ê°’ë§Œ ì”€)                     |
| delete()       | ì¡°ê±´ì— ë§ëŠ” ë ˆì½”ë“œ ì‚­ì œ                                     |
| softDelete()   | ì†Œí”„íŠ¸ ì‚­ì œ (ì—”í‹°í‹°ì— @DeleteDateColumn í•„ìš”)               |
| restore()      | ì†Œí”„íŠ¸ ì‚­ì œ ë³µì›                                            |
| count()        | ì¡°ê±´ì— ë§ëŠ” ê°œìˆ˜ ì¹´ìš´íŒ…                                     |
| query()        | ì¿¼ë¦¬ ì§ì ‘ ì‘ì„± (raw SQL)                                    |
| create()       | save() ì „ì— ë¹ˆ Entity ì¸ìŠ¤í„´ìŠ¤ ìƒì„±                         |

# Repository ë©”ì„œë“œ

| í•¨ìˆ˜                     | ì—­í•                                              | ì£¼ì˜ì                                               |
| ------------------------ | ------------------------------------------------ | --------------------------------------------------- |
| `save(data)`             | ì‚½ì… ë˜ëŠ” ìˆ˜ì • (PK ì—†ìœ¼ë©´ INSERT, ìˆìœ¼ë©´ UPDATE) | ë‚´ë¶€ì—ì„œ `create()`ì™€ `insert`/`update`ë¥¼ ìë™ ì²˜ë¦¬ |
| `insert(data)`           | INSERT ì „ìš©, ë¹ ë¦„                                | ë°˜í™˜ê°’ì— id ì—†ìŒ                                    |
| `update(ì¡°ê±´, data)`     | UPDATE ì „ìš©                                      | ì¡°ê±´ë¶€ ìˆ˜ì •, ê°ì²´ ë°˜í™˜ ì•„ë‹˜                         |
| `remove(entity)`         | ì™„ì „ ì‚­ì œ (ì—”í‹°í‹° í•„ìš”)                          | DBì—ì„œ row ì‚­ì œ                                     |
| `softDelete(ì¡°ê±´)`       | `@DeleteDateColumn` ìˆëŠ” ê²½ìš°ë§Œ ì‚¬ìš© ê°€ëŠ¥        | ì†Œí”„íŠ¸ ì‚­ì œ                                         |
| `restore(ì¡°ê±´)`          | `softDeleted` ëœ row ë³µêµ¬                        | `softDelete`ë‘ ì§ê¿                                 |
| `count()`                | ì¡°ê±´ì— ë§ëŠ” row ê°œìˆ˜                             | í†µê³„ìš©ìœ¼ë¡œ ì¢‹ìŒ                                     |
| `findOne({ where: {} })` | ì¡°ê±´ìœ¼ë¡œ ë‹¨ì¼ ì¡°íšŒ                               | ë³´í†µ ë¡œê·¸ì¸ ì‹œ ìœ ì € ì°¾ê¸° ë“±                         |
| `create(data)`           | ì‹¤ì œ DBì— ë„£ì§„ ì•Šê³ , ì—”í‹°í‹° í˜•íƒœë§Œ ìƒì„±          | `save()` ì „ì— ì‚¬ìš©ë¨                                |

# TypeORMì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ë°ì½”ë ˆì´í„° ì •ë¦¬

## 1. ğŸ“ Entity ê´€ë ¨

| ë°ì½”ë ˆì´í„°                  | ì„¤ëª…                                           |
| --------------------------- | ---------------------------------------------- |
| `@Entity()`                 | ì—”í‹°í‹° í´ë˜ìŠ¤ë¥¼ DB í…Œì´ë¸”ë¡œ ë§¤í•‘               |
| `@PrimaryGeneratedColumn()` | ê¸°ë³¸ í‚¤ + ìë™ ì¦ê°€ (ìˆ«ì ë˜ëŠ” UUID ì§€ì› ê°€ëŠ¥) |
| `@Column()`                 | ì¼ë°˜ ì»¬ëŸ¼                                      |
| `@CreateDateColumn()`       | ìƒì„±ì¼ ìë™ ê´€ë¦¬ (INSERT ì‹œ ìë™ ê¸°ë¡)         |
| `@UpdateDateColumn()`       | ìˆ˜ì •ì¼ ìë™ ê´€ë¦¬ (UPDATE ì‹œ ìë™ ê¸°ë¡)         |
| `@DeleteDateColumn()`       | ì†Œí”„íŠ¸ ì‚­ì œìš© ì»¬ëŸ¼ (DELETE ì‹œ ë‚ ì§œ ì €ì¥)       |
| `@Index()`                  | ì¸ë±ìŠ¤ ì¶”ê°€ (ë‹¨ì¼ or ë³µí•© ì¸ë±ìŠ¤ ê°€ëŠ¥)         |
| `@Unique(['email'])`        | ì»¬ëŸ¼ or ì»¬ëŸ¼ ì¡°í•©ì— ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´ ì„¤ì •      |

## 2. ğŸ“ ê´€ê³„

| ë°ì½”ë ˆì´í„°      | ì„¤ëª…                                               |
| --------------- | -------------------------------------------------- |
| `@OneToOne()`   | 1:1 ê´€ê³„                                           |
| `@OneToMany()`  | 1:N ê´€ê³„ (ì½ê¸° ì „ìš©, ì‹¤ì œ FKëŠ” `ManyToOne`ì— ì‘ì„±) |
| `@ManyToOne()`  | N:1 ê´€ê³„ (FK ì§€ì •)                                 |
| `@ManyToMany()` | N:N ê´€ê³„ (ì¡°ì¸ í…Œì´ë¸” ìƒì„±)                        |
| `@JoinColumn()` | ê´€ê³„ ì„¤ì • ì‹œ FK ì»¬ëŸ¼ ëª…ì‹œ                          |
| `@JoinTable()`  | `@ManyToMany`ì—ì„œ ì¡°ì¸ í…Œì´ë¸” ëª…ì‹œ ì‹œ ì‚¬ìš©         |

## 3. ğŸ“ ì œì•½ ì¡°ê±´ / ì¸ë±ìŠ¤ ê´€ë ¨

| ë°ì½”ë ˆì´í„°                 | ì„¤ëª…                        |
| -------------------------- | --------------------------- |
| `@Index()`                 | ë‹¨ì¼ ì»¬ëŸ¼ ì¸ë±ìŠ¤            |
| `@Index(['col1', 'col2'])` | ë³µí•© ì¸ë±ìŠ¤                 |
| `@Unique(['email'])`       | ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´            |
| `@Check("price > 0")`      | ì¡°ê±´ ê²€ì‚¬                   |
| `@Generated("uuid")`       | UUID ìë™ ìƒì„± ì»¬ëŸ¼         |
| `@VersionColumn()`         | ë‚™ê´€ì  ë½(ë²„ì „ ê´€ë¦¬)ìš© ì»¬ëŸ¼ |

## 4. ğŸ“ ê³ ê¸‰ ì»¬ëŸ¼ íƒ€ì… / ì˜µì…˜

| ë°ì½”ë ˆì´í„°                                                | ì£¼ìš” ì˜µì…˜ ì„¤ëª…           |
| --------------------------------------------------------- | ------------------------ |
| `@Column({ type: 'enum', enum: ['ACTIVE', 'INACTIVE'] })` | enum íƒ€ì…                |
| `@Column({ type: 'json' })`                               | JSON ì»¬ëŸ¼                |
| `@Column({ nullable: true })`                             | null í—ˆìš©                |
| `@Column({ default: 1 })`                                 | ê¸°ë³¸ê°’ ì„¤ì •              |
| `@Column({ select: false })`                              | ì¡°íšŒ ì œì™¸ (ì˜ˆ: password) |
| `@Column({ update: false })`                              | ìˆ˜ì • ë¶ˆê°€ í•„ë“œ ì„¤ì •      |

## 5. ğŸ“Œ ì‹¤ì „ì—ì„œ ìœ ìš©í•œ ì¶”ì²œ ì¡°í•©

| ì‚¬ìš© ì˜ˆ                     | ì¡°í•©                                          |
| --------------------------- | --------------------------------------------- |
| ìœ ì € ì—”í‹°í‹°ì˜ ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸ | `@Column({ select: false })`                  |
| ìœ ì € íƒˆí‡´ ëŒ€ì‹  soft delete  | `@DeleteDateColumn()` + `softDelete()`        |
| user_idì— ìë™ ì¸ë±ìŠ¤       | `@ManyToOne(() => User)` + `@JoinColumn()`    |
| ë¡œê·¸ì¸ ì´ë ¥ ë¹ ë¥¸ ê²€ìƒ‰       | `@Index(['user_id', 'createdAt'])`            |
| ê³ ì •ëœ ìƒíƒœê°’ ENUM ê´€ë¦¬     | `@Column({ type: 'enum', enum: UserStatus })` |

## 6. ğŸ§  ë§ˆë¬´ë¦¬

| ìœ í˜•           | ëŒ€í‘œ ë°ì½”ë ˆì´í„°                                               |
| -------------- | ------------------------------------------------------------- |
| ê¸°ë³¸ ì •ì˜      | `@Entity`, `@Column`, `@PrimaryGeneratedColumn`               |
| ì‹œê°„/ì‚­ì œ ì²˜ë¦¬ | `@CreateDateColumn`, `@UpdateDateColumn`, `@DeleteDateColumn` |
| ê´€ê³„ ë§¤í•‘      | `@OneToMany`, `@ManyToOne`, `@JoinColumn`, `@JoinTable`       |
| ì¸ë±ìŠ¤/ì œì•½    | `@Index`, `@Unique`, `@Check`                                 |
| ê¸°íƒ€ í™œìš©      | `@Column({ select: false })`, `@Column({ type: 'json' })` ë“±  |
